<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generador de Certificados PDF</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
    body { font-family: 'Roboto', sans-serif; background: #f3f4f6; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
    .container { text-align: center; width: 90%; max-width: 600px; }
    input { padding: 10px; margin: 10px 0; width: 100%; font-size: 16px; }
    button { padding: 10px 20px; font-size: 16px; cursor: pointer; background: #004AAD; color: white; border: none; border-radius: 5px; margin-top: 10px; }
</style>
</head>
<body>

<div class="container">
    <h1>Generador de Certificados PDF</h1>
    <input type="text" id="nombre" placeholder="Ingrese su nombre completo">
    <input type="text" id="curso" placeholder="Ingrese el nombre del curso">
    <input type="number" id="puntaje" placeholder="Ingrese su puntaje (0-100)">
    <br>
    <button onclick="generarPDF()">Generar PDF</button>
</div>

<script>
const { jsPDF } = window.jspdf;

function generarPDF() {
    const nombre = document.getElementById('nombre').value.trim();
    const curso = document.getElementById('curso').value.trim();
    const puntaje = parseInt(document.getElementById('puntaje').value);

    if(!nombre || !curso || isNaN(puntaje)) {
        alert("Complete todos los campos correctamente.");
        return;
    }

    // Crear PDF
    const doc = new jsPDF({
        orientation: "landscape",
        unit: "pt",
        format: "a4"
    });

    // Fondo y diseño
    doc.setFillColor(230, 230, 250); // fondo suave
    doc.rect(0, 0, 842, 595, 'F');

    // Bordes
    doc.setLineWidth(6);
    doc.setDrawColor(0, 74, 173); // azul
    doc.rect(30, 30, 782, 535);

    // Título según puntaje
    const titulo = puntaje >= 70 ? "Certificado de Aprobación" : "Diploma de Participación";

    doc.setFont("helvetica", "bold");
    doc.setFontSize(40);
    doc.setTextColor(0, 74, 173);
    doc.text(titulo, 421, 100, { align: "center" });

    // Otorgado a
    doc.setFontSize(26);
    doc.setTextColor(31, 41, 55); // gris oscuro
    doc.text("Otorgado a:", 421, 160, { align: "center" });

    doc.setFontSize(32);
    doc.setFont("helvetica", "bold");
    doc.text(nombre, 421, 210, { align: "center" });

    // Curso
    doc.setFontSize(24);
    doc.setFont("helvetica", "normal");
    doc.text(`Por haber completado el curso: ${curso}`, 421, 280, { align: "center" });

    // Puntaje
    doc.text(`Puntaje obtenido: ${puntaje}`, 421, 320, { align: "center" });

    // Fecha
    const hoy = new Date();
    const fechaTexto = hoy.toLocaleDateString('es-PE', { day: 'numeric', month: 'long', year: 'numeric' });
    doc.text(`Fecha: ${fechaTexto}`, 421, 400, { align: "center" });

    // Firma
    doc.setFontSize(18);
    doc.text("_________________________", 150, 500);
    doc.text("Coordinador", 150, 520);
    doc.text("Mi Curso en Línea", 150, 540);

    // Guardar PDF
    const nombreArchivo = puntaje >= 70 ? "Certificado_Aprobacion.pdf" : "Diploma_Asistencia.pdf";
    doc.save(nombreArchivo);
}
</script>

</body>
</html>
